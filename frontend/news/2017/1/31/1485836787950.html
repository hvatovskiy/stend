<p>In a letter to The Times, Lord Ricketts said the offer had been "premature".</p><p>A petition calling for the state visit to be cancelled has already gathered more than 1.5 million signatures.</p><p>On Monday, thousands of people across the UK joined protests against Mr Trump's travel ban on seven mainly Muslim countries.</p><p>The controversial immigration measures prompted an emergency debate in parliament on Monday.</p><p>Lord Ricketts, who was permanent secretary at the Foreign Office from 2006-10, said it was unprecedented for a US president to be invited for a state visit in their first year in the White House.</p><p>He questioned whether Mr Trump was "specially deserving of this exceptional honour".</p><p>"It would have been far wiser to wait to see what sort of president he would turn out to be before advising the Queen to invite him. Now the Queen is put in a very difficult position," he said.</p><p>No date has yet been announced for the state visit. Such events often include a stay at Buckingham Palace hosted by the Queen.</p><p>The Times says that Buckingham Palace has privately made clear it is unhappy at the perception that the Queen is being dragged into a political event.</p><p>Mrs May's office said on Monday she was "very happy" to extend the invitation to Mr Trump on behalf of the Queen.</p><p>The prime minister has been under growing pressure to say whether or not she was briefed on the US travel restrictions when she met President Trump in Washington last week.</p><p>The ban affects citizens from Iraq, Syria, Iran, Libya, Somalia, Sudan and Yemen. Critics have called it a "Muslim ban" although the Trump administration denies this.</p><p>Foreign Secretary Boris Johnson told MPs on Monday he would not comment on "confidential conversations" between the two leaders.</p><p>Mrs May faced heavy criticism when she refused several times to condemn the restrictions when asked during a visit to Turkey.</p><p>Downing Street later issued a statement saying she "does not agree" with Mr Trump's travel ban but that US immigration was a matter for the US government.</p><p>But during demonstrations in London on Monday, the crowd chanted slogans including "Shame on May".</p><p>Protesters packed Whitehall, causing the closure of Parliament Square. They held banners accusing Mr Trump of Islamophobia and Mrs May of appeasing him. </p><p>Demonstrations also took place in Glasgow, Edinburgh, Cardiff, Manchester, Newcastle, Sheffield, Oxford, Cambridge, Brighton, Gloucester, Leeds, York, Liverpool, Leicester and several other towns and cities.</p>